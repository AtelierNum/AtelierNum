/* empty css              */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const rt={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},at={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},lt="[^aeiou]",W="[aeiouy]",E=lt+"[^aeiouy]*",R=W+"[aeiou]*",Q="^("+E+")?"+R+E,ut="^("+E+")?"+R+E+"("+R+")?$",P="^("+E+")?"+R+E+R+E,ye="^("+E+")?"+W;function ct(e){let t,s,i,n,o,r;if(e.length<3)return e;const l=e.substring(0,1);if(l=="y"&&(e=l.toUpperCase()+e.substring(1)),i=/^(.+?)(ss|i)es$/,n=/^(.+?)([^s])s$/,i.test(e)?e=e.replace(i,"$1$2"):n.test(e)&&(e=e.replace(n,"$1$2")),i=/^(.+?)eed$/,n=/^(.+?)(ed|ing)$/,i.test(e)){const a=i.exec(e);i=new RegExp(Q),i.test(a[1])&&(i=/.$/,e=e.replace(i,""))}else n.test(e)&&(t=n.exec(e)[1],n=new RegExp(ye),n.test(t)&&(e=t,n=/(at|bl|iz)$/,o=new RegExp("([^aeiouylsz])\\1$"),r=new RegExp("^"+E+W+"[^aeiouwxy]$"),n.test(e)?e=e+"e":o.test(e)?(i=/.$/,e=e.replace(i,"")):r.test(e)&&(e=e+"e")));if(i=/^(.+?)y$/,i.test(e)){const a=i.exec(e);t=a==null?void 0:a[1],i=new RegExp(ye),t&&i.test(t)&&(e=t+"i")}if(i=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,i.test(e)){const a=i.exec(e);t=a==null?void 0:a[1],s=a==null?void 0:a[2],i=new RegExp(Q),t&&i.test(t)&&(e=t+rt[s])}if(i=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,i.test(e)){const a=i.exec(e);t=a==null?void 0:a[1],s=a==null?void 0:a[2],i=new RegExp(Q),t&&i.test(t)&&(e=t+at[s])}if(i=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,n=/^(.+?)(s|t)(ion)$/,i.test(e)){const a=i.exec(e);t=a==null?void 0:a[1],i=new RegExp(P),t&&i.test(t)&&(e=t)}else if(n.test(e)){const a=n.exec(e);t=(a==null?void 0:a[1])??""+(a==null?void 0:a[2])??"",n=new RegExp(P),n.test(t)&&(e=t)}if(i=/^(.+?)e$/,i.test(e)){const a=i.exec(e);t=a==null?void 0:a[1],i=new RegExp(P),n=new RegExp(ut),o=new RegExp("^"+E+W+"[^aeiouwxy]$"),t&&(i.test(t)||n.test(t)&&!o.test(t))&&(e=t)}return i=/ll$/,n=new RegExp(P),i.test(e)&&n.test(e)&&(i=/.$/,e=e.replace(i,"")),l=="y"&&(e=l.toLowerCase()+e.substring(1)),e}const ke=192,dt=383,ht=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function ft(e){return e<ke||e>dt?e:ht[e-ke]||e}function mt(e){const t=[];for(let s=0;s<e.length;s++)t[s]=ft(e.charCodeAt(s));return String.fromCharCode(...t)}const qe=["arabic","armenian","bulgarian","danish","dutch","english","finnish","french","german","greek","hungarian","indian","indonesian","irish","italian","lithuanian","nepali","norwegian","portuguese","romanian","russian","serbian","slovenian","spanish","swedish","turkish","ukrainian"];function we(e){return JSON.stringify(e,null,2)}function gt(e){return`Invalid schema type. Expected string or object, but got ${e}`}function vt(e,t){return`Invalid document structure. 
Lyra has been initialized with the following schema: 

${we(e)}

but found the following doc:

${we(t)}`}function Le(e,t){return`Invalid property name. Expected a wildcard string ("*") or array containing one of the following properties: ${t.join(", ")}, but got: ${e}`}function pt(){return"Invalid hooks object"}function bt(e){return`The following hooks aren't supported. Hooks: ${e}`}function yt(e){return`"id" must be of type "string". Got "${e}" instead.`}function kt(e){return`Document with ID "${e}" already exists.`}function wt(e){return`Language "${e}" is not supported.
Supported languages are:
 - ${qe.join(`
 - `)}`}function Lt(){return"Custom stop words array must only contain strings."}function Se(){return"Custom stop words must be a function or an array of strings."}function St(){return"tokenizer.stemmingFn property must be a function."}function Et(){return"tokenizer.tokenizerFn must be a function."}function jt(){return"Boost value must be a number greater than, or less than 0."}function At(e){return`You can only use one operation per filter. Found ${e.length}: ${e.join(", ")}`}const It=["i","me","my","myself","we","us","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","will","would","shall","should","can","could","may","might","must","ought","i'm","you're","he's","she's","it's","we're","they're","i've","you've","we've","they've","i'd","you'd","he'd","she'd","we'd","they'd","i'll","you'll","he'll","she'll","we'll","they'll","isn't","aren't","wasn't","weren't","hasn't","haven't","hadn't","doesn't","don't","didn't","won't","wouldn't","shan't","shouldn't","can't","cannot","couldn't","mustn't","let's","that's","who's","what's","here's","there's","when's","where's","why's","how's","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very"],_t=["ad","al","allo","ai","agli","all","agl","alla","alle","con","col","coi","da","dal","dallo","dai","dagli","dall","dagl","dalla","dalle","di","del","dello","dei","degli","dell","degl","della","delle","in","nel","nello","nei","negli","nell","negl","nella","nelle","su","sul","sullo","sui","sugli","sull","sugl","sulla","sulle","per","tra","contro","io","tu","lui","lei","noi","voi","loro","mio","mia","miei","mie","tuo","tua","tuoi","tue","suo","sua","suoi","sue","nostro","nostra","nostri","nostre","vostro","vostra","vostri","vostre","mi","ti","ci","vi","lo","la","li","le","gli","ne","il","un","uno","una","ma","ed","se","perché","anche","come","dov","dove","che","chi","cui","non","più","quale","quanto","quanti","quanta","quante","quello","quelli","quella","quelle","questo","questi","questa","queste","si","tutto","tutti","a","c","e","i","l","o","ho","hai","ha","abbiamo","avete","hanno","abbia","abbiate","abbiano","avrò","avrai","avrà","avremo","avrete","avranno","avrei","avresti","avrebbe","avremmo","avreste","avrebbero","avevo","avevi","aveva","avevamo","avevate","avevano","ebbi","avesti","ebbe","avemmo","aveste","ebbero","avessi","avesse","avessimo","avessero","avendo","avuto","avuta","avuti","avute","sono","sei","è","siamo","siete","sia","siate","siano","sarò","sarai","sarà","saremo","sarete","saranno","sarei","saresti","sarebbe","saremmo","sareste","sarebbero","ero","eri","era","eravamo","eravate","erano","fui","fosti","fu","fummo","foste","furono","fossi","fosse","fossimo","fossero","essendo","faccio","fai","facciamo","fanno","faccia","facciate","facciano","farò","farai","farà","faremo","farete","faranno","farei","faresti","farebbe","faremmo","fareste","farebbero","facevo","facevi","faceva","facevamo","facevate","facevano","feci","facesti","fece","facemmo","faceste","fecero","facessi","facesse","facessimo","facessero","facendo","sto","stai","sta","stiamo","stanno","stia","stiate","stiano","starò","starai","starà","staremo","starete","staranno","starei","staresti","starebbe","staremmo","stareste","starebbero","stavo","stavi","stava","stavamo","stavate","stavano","stetti","stesti","stette","stemmo","steste","stettero","stessi","stesse","stessimo","stessero","stando"],Tt=["au","aux","avec","ce","ces","dans","de","des","du","elle","en","et","eux","il","je","la","le","leur","lui","ma","mais","me","même","mes","moi","mon","ne","nos","notre","nous","on","ou","par","pas","pour","qu","que","qui","sa","se","ses","son","sur","ta","te","tes","toi","ton","tu","un","une","vos","votre","vous","c","d","j","l","à","m","n","s","t","y","","été","étée","étées","étés","étant","suis","es","est","sommes","êtes","sont","serai","seras","sera","serons","serez","seront","serais","serait","serions","seriez","seraient","étais","était","étions","étiez","étaient","fus","fut","fûmes","fûtes","furent","sois","soit","soyons","soyez","soient","fusse","fusses","fût","fussions","fussiez","fussent","ayant","eu","eue","eues","eus","ai","as","avons","avez","ont","aurai","auras","aura","aurons","aurez","auront","aurais","aurait","aurions","auriez","auraient","avais","avait","avions","aviez","avaient","eut","eûmes","eûtes","eurent","aie","aies","ait","ayons","ayez","aient","eusse","eusses","eût","eussions","eussiez","eussent","ceci","cela","celà","cet","cette","ici","ils","les","leurs","quel","quels","quelle","quelles","sans","soi"],Ot=["de","la","que","el","en","y","a","los","del","se","las","por","un","para","con","no","una","su","al","lo","como","más","pero","sus","le","ya","o","este","sí","porque","esta","entre","cuando","muy","sin","sobre","también","me","hasta","hay","donde","quien","desde","todo","nos","durante","todos","uno","les","ni","contra","otros","ese","eso","ante","ellos","e","esto","mí","antes","algunos","qué","unos","yo","otro","otras","otra","él","tanto","esa","estos","mucho","quienes","nada","muchos","cual","poco","ella","estar","estas","algunas","algo","nosotros","mi","mis","tú","te","ti","tu","tus","ellas","nosotras","vosotros","vosotras","os","mío","mía","míos","mías","tuyo","tuya","tuyos","tuyas","suyo","suya","suyos","suyas","nuestro","nuestra","nuestros","nuestras","vuestro","vuestra","vuestros","vuestras","esos","esas","estoy","estás","está","estamos","estáis","están","esté","estés","estemos","estéis","estén","estaré","estarás","estará","estaremos","estaréis","estarán","estaría","estarías","estaríamos","estaríais","estarían","estaba","estabas","estábamos","estabais","estaban","estuve","estuviste","estuvo","estuvimos","estuvisteis","estuvieron","estuviera","estuvieras","estuviéramos","estuvierais","estuvieran","estuviese","estuvieses","estuviésemos","estuvieseis","estuviesen","estando","estado","estada","estados","estadas","estad","he","has","ha","hemos","habéis","han","haya","hayas","hayamos","hayáis","hayan","habré","habrás","habrá","habremos","habréis","habrán","habría","habrías","habríamos","habríais","habrían","había","habías","habíamos","habíais","habían","hube","hubiste","hubo","hubimos","hubisteis","hubieron","hubiera","hubieras","hubiéramos","hubierais","hubieran","hubiese","hubieses","hubiésemos","hubieseis","hubiesen","habiendo","habido","habida","habidos","habidas","soy","eres","es","somos","sois","son","sea","seas","seamos","seáis","sean","seré","serás","será","seremos","seréis","serán","sería","serías","seríamos","seríais","serían","era","eras","éramos","erais","eran","fui","fuiste","fue","fuimos","fuisteis","fueron","fuera","fueras","fuéramos","fuerais","fueran","fuese","fueses","fuésemos","fueseis","fuesen","siendo","sido","tengo","tienes","tiene","tenemos","tenéis","tienen","tenga","tengas","tengamos","tengáis","tengan","tendré","tendrás","tendrá","tendremos","tendréis","tendrán","tendría","tendrías","tendríamos","tendríais","tendrían","tenía","tenías","teníamos","teníais","tenían","tuve","tuviste","tuvo","tuvimos","tuvisteis","tuvieron","tuviera","tuvieras","tuviéramos","tuvierais","tuvieran","tuviese","tuvieses","tuviésemos","tuvieseis","tuviesen","teniendo","tenido","tenida","tenidos","tenidas","tened"],xt=["de","a","o","que","e","do","da","em","um","para","com","não","uma","os","no","se","na","por","mais","as","dos","como","mas","ao","ele","das","à","seu","sua","ou","quando","muito","nos","já","eu","também","só","pelo","pela","até","isso","ela","entre","depois","sem","mesmo","aos","seus","quem","nas","me","esse","eles","você","essa","num","nem","suas","meu","às","minha","numa","pelos","elas","qual","nós","lhe","deles","essas","esses","pelas","este","dele","tu","te","vocês","vos","lhes","meus","minhas","teu","tua","teus","tuas","nosso","nossa","nossos","nossas","dela","delas","esta","estes","estas","aquele","aquela","aqueles","aquelas","isto","aquilo","estou","está","estamos","estão","estive","esteve","estivemos","estiveram","estava","estávamos","estavam","estivera","estivéramos","esteja","estejamos","estejam","estivesse","estivéssemos","estivessem","estiver","estivermos","estiverem","hei","há","havemos","hão","houve","houvemos","houveram","houvera","houvéramos","haja","hajamos","hajam","houvesse","houvéssemos","houvessem","houver","houvermos","houverem","houverei","houverá","houveremos","houverão","houveria","houveríamos","houveriam","sou","somos","são","era","éramos","eram","fui","foi","fomos","foram","fora","fôramos","seja","sejamos","sejam","fosse","fôssemos","fossem","for","formos","forem","serei","será","seremos","serão","seria","seríamos","seriam","tenho","tem","temos","tém","tinha","tínhamos","tinham","tive","teve","tivemos","tiveram","tivera","tivéramos","tenha","tenhamos","tenham","tivesse","tivéssemos","tivessem","tiver","tivermos","tiverem","terei","terá","teremos","terão","teria","teríamos","teriam"],Dt=["de","en","van","ik","te","dat","die","in","een","hij","het","niet","zijn","is","was","op","aan","met","als","voor","had","er","maar","om","hem","dan","zou","of","wat","mijn","men","dit","zo","door","over","ze","zich","bij","ook","tot","je","mij","uit","der","daar","haar","naar","heb","hoe","heeft","hebben","deze","u","want","nog","zal","me","zij","nu","ge","geen","omdat","iets","worden","toch","al","waren","veel","meer","doen","toen","moet","ben","zonder","kan","hun","dus","alles","onder","ja","eens","hier","wie","werd","altijd","doch","wordt","wezen","kunnen","ons","zelf","tegen","na","reeds","wil","kon","niets","uw","iemand","geweest","andere"],Nt=["och","det","att","i","en","jag","hon","som","han","på","den","med","var","sig","för","så","till","är","men","ett","om","hade","de","av","icke","mig","du","henne","då","sin","nu","har","inte","hans","honom","skulle","hennes","där","min","man","ej","vid","kunde","något","från","ut","när","efter","upp","vi","dem","vara","vad","över","än","dig","kan","sina","här","ha","mot","alla","under","någon","eller","allt","mycket","sedan","ju","denna","själv","detta","åt","utan","varit","hur","ingen","mitt","ni","bli","blev","oss","din","dessa","några","deras","blir","mina","samma","vilken","er","sådan","vår","blivit","dess","inom","mellan","sådant","varför","varje","vilka","ditt","vem","vilket","sitta","sådana","vart","dina","vars","vårt","våra","ert","era","vilkas"],qt=["и","в","во","не","что","он","на","я","с","со","как","а","то","все","она","так","его","но","да","ты","к","у","же","вы","за","бы","по","только","ее","мне","было","вот","от","меня","еще","нет","о","из","ему","теперь","когда","даже","ну","вдруг","ли","если","уже","или","ни","быть","был","него","до","вас","нибудь","опять","уж","вам","сказал","ведь","там","потом","себя","ничего","ей","может","они","тут","где","есть","надо","ней","для","мы","тебя","их","чем","была","сам","чтоб","без","будто","человек","чего","раз","тоже","себе","под","жизнь","будет","ж","тогда","кто","этот","говорил","того","потому","этого","какой","совсем","ним","здесь","этом","один","почти","мой","тем","чтобы","нее","кажется","сейчас","были","куда","зачем","сказать","всех","никогда","сегодня","можно","при","наконец","два","об","другой","хоть","после","над","больше","тот","через","эти","нас","про","всего","них","какая","много","разве","сказала","три","эту","моя","впрочем","хорошо","свою","этой","перед","иногда","лучше","чуть","том","нельзя","такой","им","более","всегда","конечно","всю","между"],Ft=["og","i","jeg","det","at","en","et","den","til","er","som","på","de","med","han","av","ikke","ikkje","der","så","var","meg","seg","men","ett","har","om","vi","min","mitt","ha","hadde","hun","nå","over","da","ved","fra","du","ut","sin","dem","oss","opp","man","kan","hans","hvor","eller","hva","skal","selv","sjøl","her","alle","vil","bli","ble","blei","blitt","kunne","inn","når","være","kom","noen","noe","ville","dere","som","deres","kun","ja","etter","ned","skulle","denne","for","deg","si","sine","sitt","mot","å","meget","hvorfor","dette","disse","uten","hvordan","ingen","din","ditt","blir","samme","hvilken","hvilke","sånn","inni","mellom","vår","hver","hvem","vors","hvis","både","bare","enn","fordi","før","mange","også","slik","vært","være","båe","begge","siden","dykk","dykkar","dei","deira","deires","deim","di","då","eg","ein","eit","eitt","elles","honom","hjå","ho","hoe","henne","hennar","hennes","hoss","hossen","ikkje","ingi","inkje","korleis","korso","kva","kvar","kvarhelst","kven","kvi","kvifor","me","medan","mi","mine","mykje","no","nokon","noka","nokor","noko","nokre","si","sia","sidan","so","somt","somme","um","upp","vere","vore","verte","vort","varte","vart"],$t=["aber","alle","allem","allen","aller","alles","als","also","am","an","ander","andere","anderem","anderen","anderer","anderes","anderm","andern","anderr","anders","auch","auf","aus","bei","bin","bis","bist","da","damit","dann","der","den","des","dem","die","das","daß","derselbe","derselben","denselben","desselben","demselben","dieselbe","dieselben","dasselbe","dazu","dein","deine","deinem","deinen","deiner","deines","denn","derer","dessen","dich","dir","du","dies","diese","diesem","diesen","dieser","dieses","doch","dort","durch","ein","eine","einem","einen","einer","eines","einig","einige","einigem","einigen","einiger","einiges","einmal","er","ihn","ihm","es","etwas","euer","eure","eurem","euren","eurer","eures","für","gegen","gewesen","hab","habe","haben","hat","hatte","hatten","hier","hin","hinter","ich","mich","mir","ihr","ihre","ihrem","ihren","ihrer","ihres","euch","im","in","indem","ins","ist","jede","jedem","jeden","jeder","jedes","jene","jenem","jenen","jener","jenes","jetzt","kann","kein","keine","keinem","keinen","keiner","keines","können","könnte","machen","man","manche","manchem","manchen","mancher","manches","mein","meine","meinem","meinen","meiner","meines","mit","muss","musste","nach","nicht","nichts","noch","nun","nur","ob","oder","ohne","sehr","sein","seine","seinem","seinen","seiner","seines","selbst","sich","sie","ihnen","sind","so","solche","solchem","solchen","solcher","solches","soll","sollte","sondern","sonst","über","um","und","uns","unse","unsem","unsen","unser","unses","unter","viel","vom","von","vor","während","war","waren","warst","was","weg","weil","weiter","welche","welchem","welchen","welcher","welches","wenn","werde","werden","wie","wieder","will","wir","wird","wirst","wo","wollen","wollte","würde","würden","zu","zum","zur","zwar","zwischen"],zt=["og","i","jeg","det","at","en","den","til","er","som","på","de","med","han","af","for","ikke","der","var","mig","sig","men","et","har","om","vi","min","havde","ham","hun","nu","over","da","fra","du","ud","sin","dem","os","op","man","hans","hvor","eller","hvad","skal","selv","her","alle","vil","blev","kunne","ind","når","være","dog","noget","ville","jo","deres","efter","ned","skulle","denne","end","dette","mit","også","under","have","dig","anden","hende","mine","alt","meget","sit","sine","vor","mod","disse","hvis","din","nogle","hos","blive","mange","ad","bliver","hendes","været","thi","jer","sådan"],Rt=["olla","olen","olet","on","olemme","olette","ovat","ole","oli","olisi","olisit","olisin","olisimme","olisitte","olisivat","olit","olin","olimme","olitte","olivat","ollut","olleet","en","et","ei","emme","ette","eivät","minä","minun","minut","minua","minussa","minusta","minuun","minulla","minulta","minulle","sinä","sinun","sinut","sinua","sinussa","sinusta","sinuun","sinulla","sinulta","sinulle","hän","hänen","hänet","häntä","hänessä","hänestä","häneen","hänellä","häneltä","hänelle","me","meidän","meidät","meitä","meissä","meistä","meihin","meillä","meiltä","meille","te","teidän","teidät","teitä","teissä","teistä","teihin","teillä","teiltä","teille","he","heidän","heidät","heitä","heissä","heistä","heihin","heillä","heiltä","heille","tämä","tämän","tätä","tässä","tästä","tähän","tällä","tältä","tälle","tänä","täksi","tuo","tuon","tuota","tuossa","tuosta","tuohon","tuolla","tuolta","tuolle","tuona","tuoksi","se","sen","sitä","siinä","siitä","siihen","sillä","siltä","sille","sinä","siksi","nämä","näiden","näitä","näissä","näistä","näihin","näillä","näiltä","näille","näinä","näiksi","nuo","noiden","noita","noissa","noista","noihin","noilla","noilta","noille","noina","noiksi","ne","niiden","niitä","niissä","niistä","niihin","niillä","niiltä","niille","niinä","niiksi","kuka","kenen","kenet","ketä","kenessä","kenestä","keneen","kenellä","keneltä","kenelle","kenenä","keneksi","ketkä","keiden","ketkä","keitä","keissä","keistä","keihin","keillä","keiltä","keille","keinä","keiksi","mikä","minkä","minkä","mitä","missä","mistä","mihin","millä","miltä","mille","minä","miksi","mitkä","joka","jonka","jota","jossa","josta","johon","jolla","jolta","jolle","jona","joksi","jotka","joiden","joita","joissa","joista","joihin","joilla","joilta","joille","joina","joiksi","että","ja","jos","koska","kuin","mutta","niin","sekä","sillä","tai","vaan","vai","vaikka","kanssa","mukaan","noin","poikki","yli","kun","niin","nyt","itse"],Fe={english:It,italian:_t,french:Tt,spanish:Ot,portuguese:xt,dutch:Dt,swedish:Nt,russian:qt,norwegian:Ft,german:$t,danish:zt,finnish:Rt},Ct=Object.keys(Fe),Mt={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim},B=new Map;function Pt(e,t,s){const i=`${t}:${e}`;if(B.has(i))return B.get(i);if(s!=null&&s.enableStopWords&&s.customStopWords.includes(e)){const n="";return B.set(i,n),n}return s!=null&&s.enableStemming&&typeof(s==null?void 0:s.stemmingFn)=="function"&&(e=s==null?void 0:s.stemmingFn(e)),e=mt(e),B.set(i,e),e}function Bt(e){for(;e[e.length-1]==="";)e.pop();for(;e[0]==="";)e.shift();return e}function Wt(e){if(!qe.includes(e))throw new Error(wt(e))}function Ut(e,t="english",s=!1,i=le(t)){if(typeof e!="string")return[e];const n=Mt[t],o=e.toLowerCase().split(n).map(l=>Pt(l,t,i)).filter(Boolean),r=Bt(o);return s?r:Array.from(new Set(r))}function le(e,t={}){let s=[],i=[],n,o=Ut;if(t!=null&&t.tokenizerFn){if(typeof t.tokenizerFn!="function")throw Error(Et());o=t.tokenizerFn}else{if(t!=null&&t.stemmingFn){if(typeof t.stemmingFn!="function")throw Error(St());n=t.stemmingFn}else n=ct;if(Ct.includes(e)&&(s=Fe[e]??[]),t!=null&&t.customStopWords)switch(typeof t.customStopWords){case"function":i=t.customStopWords(s);break;case"object":if(!Array.isArray(t.customStopWords))throw Error(Se());if(i=t.customStopWords,i.some(r=>typeof r!="string"))throw Error(Lt());break;default:throw Error(Se())}}return{enableStopWords:(t==null?void 0:t.enableStopWords)??!0,enableStemming:(t==null?void 0:t.enableStemming)??!0,stemmingFn:n,customStopWords:i??s,tokenizerFn:o,assertSupportedLanguage:t.assertSupportedLanguage??Wt}}const Ht=Date.now().toString().slice(5);let Yt=0;const Ee=BigInt(1e3),je=BigInt(1e6),Ae=BigInt(1e9);function Gt(e){return typeof e=="number"&&(e=BigInt(e)),e<Ee?`${e}ns`:e<je?`${e/Ee}μs`:e<Ae?`${e/je}ms`:`${e/Ae}s`}function Ie(){return typeof process<"u"&&process.hrtime!==void 0?process.hrtime.bigint():BigInt(typeof performance<"u"?Math.floor(performance.now()*1e6):0)}function $e(){return`${Ht}-${Yt++}`}function _e(e,t){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0:Object.hasOwn(e,t)?e[t]:void 0}function Vt(e,t){return t[1]-e[1]}function Xt(e){if(e.length===0)return[];for(let s=1;s<e.length;s++)if(e[s].length<e[0].length){const i=e[0];e[0]=e[s],e[s]=i}const t=new Map;for(const s of e[0])t.set(s,1);for(let s=1;s<e.length;s++){let i=0;for(const n of e[s]){const o=t.get(n);o===s&&(t.set(n,o+1),i++)}if(i===0)return[]}return e[0].filter(s=>{const i=t.get(s);return i!==void 0&&t.set(s,0),i===e.length})}function ze(e,t){return t.split(".").reduce((s,i)=>s&&typeof s=="object"?s[i]:void 0,e)}function z(e=!1,t="",s=""){const i={id:$e(),key:s,subWord:t,parent:null,children:{},docs:[],end:e,word:""};return Object.defineProperty(i,"toJSON",{value:Kt}),i}function D(e,t){e.parent=t.id,e.word=t.word+e.subWord}function ee(e,t){e.docs.push(t)}function Kt(){const{word:e,subWord:t,children:s,docs:i,end:n}=this;return{word:e,subWord:t,children:s,docs:i,end:n}}function Jt(e,t){return{key:e,value:t,left:null,right:null,height:0}}const x={UNBALANCED_RIGHT:1,SLIGHTLY_UNBALANCED_RIGHT:2,BALANCED:3,SLIGHTLY_UNBALANCED_LEFT:4,UNBALANCED_LEFT:5};function Zt(e){switch(S(e.left)-S(e.right)){case-2:return x.UNBALANCED_RIGHT;case-1:return x.SLIGHTLY_UNBALANCED_RIGHT;case 1:return x.SLIGHTLY_UNBALANCED_LEFT;case 2:return x.UNBALANCED_LEFT;default:return x.BALANCED}}function S(e){return e?e.height:-1}function te(e){const t=e.right;return e.right=t.left,t.left=e,e.height=Math.max(S(e.left),S(e.right))+1,t.height=Math.max(S(t.left),S(t.right))+1,t}function ne(e){const t=e.left;return e.left=t.right,t.right=e,e.height=Math.max(S(e.left),S(e.right))+1,t.height=Math.max(S(t.left),S(t.right))+1,t}function Re(e,t){return Jt(e,t)}function re(e,t,s){if(!e)return Re(t,s);if(t<e.key)e.left=re(e.left,t,s);else if(t>e.key)e.right=re(e.right,t,s);else return e.value=e.value.concat(s),e;const i=Zt(e);return i===x.UNBALANCED_LEFT&&(t<e.left.key||(e.left=te(e.left)),e=ne(e)),i===x.UNBALANCED_RIGHT&&(t>e.right.key||(e.right=ne(e.right)),e=te(e)),e}function ae(e,t){return e?e.key===t?e.value:t<e.key?e.left?ae(e.left,t):null:e.right?ae(e.right,t):null:null}function Qt(e,t,s){if(!e)return[];const i=[];function n(o){o&&(o.key>t&&n(o.left),o.key>=t&&o.key<=s&&i.push(...o.value),o.key<s&&n(o.right))}return n(e),i}function Te(e,t,s=!1){if(!e)return[];const i=[];function n(o){o&&(s&&o.key>=t&&i.push(...o.value),!s&&o.key>t&&i.push(...o.value),n(o.left),n(o.right))}return n(e),i}function Oe(e,t,s=!1){if(!e)return[];const i=[];function n(o){o&&(s&&o.key<=t&&i.push(...o.value),!s&&o.key<t&&i.push(...o.value),n(o.left),n(o.right))}return n(e),i}const en=["afterInsert"];function tn(e){if(e){if(typeof e!="object")throw new Error(pt());const t=Object.keys(e).filter(s=>!en.includes(s));if(t.length)throw new Error(bt(t))}}function nn(e){if(e.length===0)return[];for(let n=1;n<e.length;n++)if(e[n].length<e[0].length){const o=e[0];e[0]=e[n],e[n]=o}const t=new Map;for(const n of e[0])t.set(n[0],[1,n[1]]);const s=e.length;for(let n=1;n<s;n++){let o=0;for(const r of e[n]){const l=r[0]??"",[a,u]=t.get(l)??[0,0];a===n&&(t.set(l,[a+1,u+r[1]]),o++)}if(o===0)return[]}const i=[];for(const[n,[o,r]]of t)o===s&&i.push([n,r]);return i}function sn(e,t){if(t===0)throw new Error(jt());const s={},i=e.length;for(let n=0;n<i;n++){const o=e[n],r=o.length;for(let l=0;l<r;l++){const[a,u]=o[l],c=u*t;a in s?s[a]*=1.5+c:s[a]=c}}return Object.entries(s).sort((n,o)=>o[1]-n[1])}function on(e,t,s,i,n,o){const{k:r,b:l,d:a}=o;return Math.log(1+(s-t+.5)/(t+.5))*(a+e*(r+1))/(e+r*(1-l+l*i/n))}async function rn(e){var t,s,i,n,o;const r=(e==null||(t=e.defaultLanguage)===null||t===void 0?void 0:t.toLowerCase())??"english",l=le(r,((s=e.components)===null||s===void 0?void 0:s.tokenizer)??{});l.assertSupportedLanguage(r),tn(e.hooks);const a={defaultLanguage:r,schema:e.schema,docs:{},docsCount:0,index:{},hooks:e.hooks||{},edge:e.edge??!1,frequencies:{},tokenOccurrencies:{},avgFieldLength:{},fieldLengths:{},components:{elapsed:((i=e.components)===null||i===void 0?void 0:i.elapsed)??{},tokenizer:l,algorithms:{intersectTokenScores:((n=e.components)===null||n===void 0||(o=n.algorithms)===null||o===void 0?void 0:o.intersectTokenScores)??nn}}};return Ce(a,e.schema),a}function Ce(e,t,s=""){for(const i of Object.keys(t)){const n=typeof i,o=typeof t[i]=="object";if(n!=="string")throw new Error(gt(n));const r=`${s}${i}`;if(o)Ce(e,t[i],`${r}.`);else{if(t[i]==="string"){e.index[r]=z(),e.avgFieldLength[r]=0;continue}if(t[i]==="number"){e.index[r]=Re(0,[]);continue}if(t[i]==="boolean"){e.index[r]={true:[],false:[]};continue}}}}var se;const O=Symbol("lyra.insertions"),an=((se=globalThis.process)===null||se===void 0?void 0:se.emitWarning)??function(t,s){console.warn(`[WARNING] [${s.code}] ${t}`)};function ln(e){const t=e;typeof t[O]!="number"&&(queueMicrotask(()=>{t[O]=void 0}),t[O]=0),t[O]>1e3?(an("Lyra's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread.",{code:"LYRA0001"}),t[O]=-1):t[O]>=0&&t[O]++}function un(e,t,s){const i=cn(e,t,s);return{distance:i,isBounded:i>=0}}function cn(e,t,s){if(e===t)return 0;const i=e;e.length>t.length&&(e=t,t=i);let n=e.length,o=t.length;for(;n>0&&e.charCodeAt(~-n)===t.charCodeAt(~-o);)n--,o--;if(!n)return o>s?-1:o;let r=0;for(;r<n&&e.charCodeAt(r)===t.charCodeAt(r);)r++;if(n-=r,o-=r,n===0)return o>s?-1:o;const l=o-n;if(s>o)s=o;else if(l>s)return-1;let a=0;const u=[],c=[];for(;a<s;)c[a]=t.charCodeAt(r+a),u[a]=++a;for(;a<o;)c[a]=t.charCodeAt(r+a),u[a++]=s+1;const d=s-l,f=s<o;let h=0,y=s,m=0,b=0,j=0,A=0,k=0;for(a=0;a<n;a++){for(b=a,m=a+1,A=e.charCodeAt(r+a),h+=a>d?1:0,y+=y<o?1:0,k=h;k<y;k++)j=m,m=b,b=u[k],A!==c[k]&&(b<m&&(m=b),j<m&&(m=j),m++),u[k]=m;if(f&&u[a+l]>s)return-1}return m<=s?m:-1}function dn(e,t,s){for(let i=0;i<t.length;i++){const n=t[i],o=t.substring(i),r=e.children[n];if(n in e.children){const l=r.subWord,a=l.length,u=Pe(l,o),c=u.length,d=l[c];if(l===o){ee(r,s),r.end=!0;return}if(c<a&&c===o.length){const f=z(!0,o,n);f.children[d]=r;const h=f.children[d];h.subWord=l.substring(c),h.key=d,e.children[n]=f,D(f,e),D(h,f);return}if(c<a&&c<o.length){const f=z(!1,u,n);f.children[d]=r,e.children[n]=f;const h=f.children[d];h.subWord=l.substring(c),h.key=d;const y=o[c],m=z(!0,t.substring(i+c),y);ee(m,s),f.children[y]=m,D(f,e),D(m,f),D(h,f);return}i+=a-1,e=r}else{const l=z(!0,o,n);ee(l,s),e.children[n]=l,D(l,e);return}}}function hn(e,{term:t,exact:s,tolerance:i}){for(let o=0;o<t.length;o++){const r=t[o];if(r in e.children){const l=e.children[r],a=l.subWord,u=t.substring(o),d=Pe(a,u).length;if(d!==a.length&&d!==u.length){if(i)break;return{}}o+=l.subWord.length-1,e=l}else return{}}const n={};return Me(e,n,t,s,i),n}function Me(e,t,s,i,n){if(e.end){const{word:o,docs:r}=e;if(i&&o!==s)return{};if(_e(t,o)||(n?Math.abs(s.length-o.length)<=n&&un(s,o,n).isBounded&&(t[o]=[]):t[o]=[]),_e(t,o)&&r.length){const l=new Set(t[o]),a=r.length;for(let u=0;u<a;u++)l.add(r[u]);t[o]=Array.from(l)}}for(const o of Object.keys(e.children))Me(e.children[o],t,s,i,n);return t}function Pe(e,t){let s="";const i=Math.min(e.length,t.length);for(let n=0;n<i;n++){if(e[n]!==t[n])return s;s+=e[n]}return s}function fn(e,t){if(!Be(e,t))throw new Error(vt(t,e))}function Be(e,t){for(const s in e){if(!(s in t))continue;if(typeof e[s]==="object")Be(e[s],t);else if(typeof e[s]!==t[s])return!1}return!0}function mn(e,t){const s=Object.keys(e.index);if(!t)return s;if(typeof t=="string"){if(t!=="*")throw new Error(Le(t,s));return s}for(const i of t)if(!s.includes(i))throw new Error(Le(i,s));return t}async function gn(e,t,s){var i,n,o,r;s={language:e.defaultLanguage,...s};const l=await vn(t,s);if(e.docs[l])throw new Error(kt(l));return(i=e.components)===null||i===void 0||(n=i.tokenizer)===null||n===void 0||(o=n.assertSupportedLanguage)===null||o===void 0||o.call(n,s.language),fn(t,e.schema),e.docs[l]=t,e.docsCount++,We(e,t,l,s,void 0,(r=e.components)===null||r===void 0?void 0:r.tokenizer),ln(e),{id:l}}function We(e,t,s,i,n="",o,r=e.schema){i={language:e.defaultLanguage,...i};const{index:l,frequencies:a,tokenOccurrencies:u}=e;for(const c of Object.keys(t)){const d=typeof t[c]=="object",f=typeof r[c]=="object",h=`${n}${c}`;if(d&&c in r&&f&&We(e,t[c],s,i,h+".",o,r[c]),typeof t[c]=="number"&&c in r&&!f&&re(e.index[h],t[c],[s]),typeof t[c]=="boolean"&&c in r&&!f){const y=t[c].toString();e.index[h][y].push(s)}if(typeof t[c]=="string"&&c in r&&!f){const y=l[h],m=o.tokenizerFn(t[c],i.language,!1,o);h in a||(a[h]={}),h in u||(u[h]={}),s in a[h]||(a[h][s]={}),h in e.fieldLengths||(e.fieldLengths[h]={}),e.fieldLengths[h][s]=m.length,e.avgFieldLength[h]=((e.avgFieldLength[h]??0)*(e.docsCount-1)+m.length)/e.docsCount;for(const b of m){let j=0;for(const k of m)k===b&&j++;const A=j/m.length;a[h][s][b]=A,b in u[h]||(u[h][b]=0),u[h][b]=(u[h][b]??0)+1,dn(y,b,s)}}}}async function vn(e,t){let s;if(t!=null&&t.id)s=await t.id(e);else if(e.id&&typeof e.id=="string")s=e.id;else{if(e.id&&typeof e.id!="string")throw new TypeError(yt(typeof e.id));s=$e()}return s}function pn(e,t,s,i){const n={},r=s.map(([u])=>u).map(u=>t[u]),l=Object.keys(i);for(const u of l){const c=xe(e,u);let d={};if(c==="number"){const{ranges:f}=i[u],h=[];for(const y of f)h.push([`${y.from}-${y.to}`,0]);d=Object.fromEntries(h)}n[u]={count:0,values:d}}const a=r.length;for(let u=0;u<a;u++){const c=r[u];for(const d of l){const f=d.includes(".")?ze(c,d):c[d];if(typeof f=="string")n[d].values[f]===void 0?n[d].values[f]=1:n[d].values[f]++;else if(typeof f=="boolean")n[d].values[f.toString()]===void 0?n[d].values[f.toString()]=1:n[d].values[f.toString()]++;else if(typeof f=="number")for(const h of i[d].ranges)f>=h.from&&f<=h.to&&(n[d].values[`${h.from}-${h.to}`]===void 0?n[d].values[`${h.from}-${h.to}`]=1:n[d].values[`${h.from}-${h.to}`]++)}}for(const u of l){const c=xe(e,u);n[u].count=Object.keys(n[u].values).length,c==="string"&&(n[u].values=Object.fromEntries(Object.entries(n[u].values).sort((d,f)=>bn(i[u].sort,d,f)).slice(i[u].offset??0,i[u].limit??10)))}return n}const ie=new Map;function xe(e,t){if(ie.has(t))return ie.get(t);const s=ze(e,t);return ie.set(t,s),s}function bn(e="desc",t,s){return e.toLowerCase()==="asc"?t[1]-s[1]:s[1]-t[1]}function yn(e,t){const s=Object.keys(e),i=s.reduce((o,r)=>({[r]:[],...o}),{});for(const o of s){const r=e[o],l=Object.keys(r);if(l.length>1)throw new Error(At(l));if(typeof r=="boolean"){const f=t.index[o][r.toString()];i[o].push(...f)}const a=l[0],u=r[a],c=t.index[o];switch(a){case"gt":{const d=Te(c,u,!1);i[o].push(...d);break}case"gte":{const d=Te(c,u,!0);i[o].push(...d);break}case"lt":{const d=Oe(c,u,!1);i[o].push(...d);break}case"lte":{const d=Oe(c,u,!0);i[o].push(...d);break}case"eq":{const d=ae(c,u);i[o].push(...d);break}case"between":{const d=Qt(c,u[0],u[1]);i[o].push(...d)}}}return Xt(Object.values(i))}function kn(e,t){const s=new Map,i=[];for(const n of e)s.set(n,!0);for(const[n,o]of t)s.has(n)&&(i.push([n,o]),s.delete(n));return i}async function wn(e,t,s){var i,n;s||(s=e.defaultLanguage),!((i=e.components)===null||i===void 0)&&i.tokenizer||(e.components={...e.components??{},tokenizer:le(s)}),t.relevance=Sn(t.relevance);const o=t.facets&&Object.keys(t.facets).length>0,{limit:r=10,offset:l=0,exact:a=!1,term:u,properties:c}=t,d=e.components.tokenizer.tokenizerFn(u,s,!1,e.components.tokenizer),f=mn(e,c),h=Array.from({length:r}),y=e.docsCount,m=Ie(),b=Object.keys(t.where??{}).length>0;let j=[];b&&(j=yn(t.where,e));const A={},k={},H={};for(const w of f){const v={};for(const _ of d)v[_]=[];k[w]=v,H[w]=[]}const Je=f.length;for(let w=0;w<Je;w++){var Y;const v=f[w],_=e.avgFieldLength[v],X=e.fieldLengths[v];if(!(v in e.tokenOccurrencies))continue;const C=e.tokenOccurrencies[v],K=e.frequencies[v],Qe=d.length;for(let T=0;T<Qe;T++){const I=d[T],$=Ln(e,{...t,index:v,term:I,exact:a}),M=typeof C[I]=="number"?C[I]??0:0,be=[],st=$.length;for(let J=0;J<st;J++){var G;const Z=$[J],it=(K==null||(G=K[Z])===null||G===void 0?void 0:G[I])??0,ot=on(it,M,y,X[Z],_,t.relevance);be.push([Z,ot])}k[v][I].push(...be)}const et=k[v],tt=Object.values(et);H[v]=sn(tt,(t==null||(Y=t.boost)===null||Y===void 0?void 0:Y[v])??1);const pe=H[v],nt=pe.length;for(let T=0;T<nt;T++){const[I,$]=pe[T],M=A[I];M?A[I]=M+$+.5:A[I]=$}}let F=Object.entries(A).sort(Vt);b&&(F=kn(j,F));const ge=new Set,Ze=o?pn(e.schema,e.docs,F,t.facets):{};for(let w=l;w<r+l;w++){const v=F[w];if(typeof v>"u")break;const[_,X]=v;if(!ge.has(_)){const C=e.docs[_];h[w]={id:_,score:X,document:C},ge.add(_)}}let V=Ie()-m;((n=e.components.elapsed)===null||n===void 0?void 0:n.format)==="human"&&(V=Gt(V));const ve={elapsed:V,hits:h.filter(Boolean),count:F.length};return o&&(ve.facets=Ze),ve}function Ln(e,t){const s=e.index[t.index],i=hn(s,{term:t.term,exact:t.exact,tolerance:t.tolerance}),n=new Set;for(const o in i)for(const r of i[o])n.add(r);return Array.from(n)}const De={k:1.2,b:.75,d:.5};function Sn(e=De){return Object.assign({},De,e)}const Ue=3;let p={cursor:0,documents:[],getAmount:e=>{if(p.cursor+e>=p.documents.length){const t=p.documents.slice(p.cursor);return p.cursor=p.documents.length,t}else{const t=p.documents.slice(p.cursor,p.cursor+e);return p.cursor+=e,t}},set:e=>{p.cursor=0,p.documents=e,(s=>s.replaceChildren())(document.querySelector("main")),p.getAmount(Ue).forEach(s=>Ke(s))}},ue;rn({schema:{id:"string",title:"string",description:"string",type:"string",authors:"string",tags:"string"}}).then(e=>ue=e);let g=localStorage.getItem("filtersState");g?g=JSON.parse(g):(g={languages:{en:!0,fr:!0},categories:{course:!0,resource:!1,template:!0,project:!1}},ce());function ce(){localStorage.setItem("filtersState",JSON.stringify(g))}function He(e,t){g.languages[e]=t,ce(),de()}function Ye(e,t){g.categories[e]=t,ce(),de()}function de(){document.querySelectorAll('#category-filters input[type="checkbox"]').forEach(n=>{n.checked=g.categories[n.dataset.type]}),document.querySelectorAll('#language-filters input[type="checkbox"]').forEach(n=>{n.checked=g.languages[n.dataset.language]}),document.querySelectorAll("#mobile-category-filters > li").forEach(n=>{const o=n.querySelector(".resource-type");g.categories[o.dataset.type]?o.classList.remove("inactive"):o.classList.add("inactive")}),document.querySelectorAll("#mobile-language-filters > li").forEach(n=>{const o=n.querySelector(".resource-type");g.languages[o.dataset.language]?o.classList.remove("inactive"):o.classList.add("inactive")})}const En=document.querySelectorAll('#category-filters input[type="checkbox"]');En.forEach(e=>{e.addEventListener("change",t=>{Ye(t.target.dataset.type,t.target.checked),q()})});const jn=document.querySelectorAll('#language-filters input[type="checkbox"]');jn.forEach(e=>{e.addEventListener("change",t=>{He(t.target.dataset.language,t.target.checked),q()})});const An=document.querySelectorAll("#mobile-category-filters > li");An.forEach(e=>{const t=e.querySelector(".resource-type");e.addEventListener("click",()=>{Ye(t.dataset.type,!g.categories[t.dataset.type]),q()})});const In=document.querySelectorAll("#mobile-language-filters > li");In.forEach(e=>{const t=e.querySelector(".resource-type");e.addEventListener("click",()=>{He(t.dataset.language,!g.languages[t.dataset.language]),q()})});const he=document.querySelector("#search-input");he.addEventListener("input",e=>{q(e.srcElement.value)});he.addEventListener("keyup",e=>{const t=window.matchMedia("(prefers-reduced-motion: reduce)")===!0||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0;(e.key==="Enter"||e.keyCode===13)&&window.scrollTo({top:0,left:0,behavior:t?"auto":"smooth"})});let U=!1,N={prevPageX:0,prevPageY:0};const L=document.querySelector("#mobile-menu"),fe=document.querySelector("#mobile-menu-content"),Ge=()=>parseFloat(window.getComputedStyle(fe).width);let Ve=Ge();window.addEventListener("resize",()=>{Ve=Ge()});function me(){L.dataset.open=="false"?L.style.transform=`translateX(calc(${Ve}px - var(--size-2)))`:L.style.transform="translateX(0)"}document.querySelector("#menu-opener").addEventListener("click",e=>{L.dataset.open=="false"?L.dataset.open="true":L.dataset.open="false",me()});document.body.addEventListener("mousedown",e=>{U=!0});document.body.addEventListener("touchstart",e=>{N.prevPageX=e.touches[0].pageX,N.prevPageY=e.touches[0].pageY,U=!0});const oe=()=>{U=!1;const e=parseFloat(window.getComputedStyle(fe).width);parseInt(Xe(L).x)>e*.5?L.dataset.open="false":L.dataset.open="true",me()},Ne=e=>{!Boolean(e.movementX)&&e.touches&&(e.movementX=e.touches[0].pageX-N.prevPageX,e.movementY=e.touches[0].pageY-N.prevPageY,N.prevPageX=e.touches[0].pageX,N.prevPageY=e.touches[0].pageY);const s=1.04,i=parseFloat(window.getComputedStyle(fe).width);if(U){const o=parseInt(Xe(L).x)+e.movementX;o*s<i&&o>0&&(L.style.transform=`translateX(${o}px)`)}};function Xe(e){const t=window.getComputedStyle(e),s=t.transform||t.webkitTransform||t.mozTransform;if(s==="none"||typeof s>"u")return{x:0,y:0,z:0};const i=s.includes("3d")?"3d":"2d",n=s.match(/matrix.*\((.+)\)/)[1].split(", ");if(i==="2d")return{x:n[4],y:n[5],z:0};if(i==="3d")return{x:n[12],y:n[13],z:n[14]}}function _n(e){const t=document.querySelector("#main-article-template"),i=(n=>n.content.children[0])(t).cloneNode(!0);return i.id=e.id,i.dataset.language=e.language,i.querySelector("h2").innerText=e.title,i.querySelector(".description").innerText=e.description,i.querySelector(".authors").innerText=e.authors||"",i.querySelector("img").src=e.thumbnail,i.querySelector(".resource-type").dataset.type=e.type,i.querySelectorAll("a").forEach(n=>n.href=e.url),i}function Ke(e){document.querySelector("main").append(_n(e))}async function q(){if(!dbLoaded)return;const e=document.querySelector("#search-input").value;if(console.log(`searching for ${e}`),e.trim().length==0){Tn();return}const t=e.split(" ");console.log(g);const s=await Promise.all(t.map(o=>wn(ue,{term:o,properties:["title","description","tags","authors"]})));console.log(s);const i=s.map(o=>o.hits).map(o=>o.filter(r=>g.categories[r.document.type]&&g.languages[r.document.language])).flat(1/0).reduce((o,r)=>(o[r.id]?o[r.id].score+=r.score:o[r.id]=r,o),{});console.log(i);const n=Object.values(i).sort((o,r)=>o.score<r.score);p.set(n.map(o=>o.document)),console.log(n),console.log(p)}async function Tn(){if(!dbLoaded)return;console.log("loading everything");const e=Object.values(await futureDB).filter(t=>g.languages[t.language]&&g.categories[t.type]);p.set(e)}window.addEventListener("DOMContentLoaded",async()=>{const e=await futureDB,t=Object.entries(e);if(console.log(t),await Promise.all(t.map(([i,n])=>gn(ue,{...n,tags:n.tags.join(" "),authors:n.authors?n.authors:"",language:n.language.toLowerCase()}))),window.location.hash!=""){const n=(o=>o.substring(1))(window.location.hash);he.value=decodeURIComponent(n)}new IntersectionObserver((i,n)=>{console.log("intersection"),console.log(i),console.log(n),dbLoaded&&p.getAmount(Ue).forEach(o=>Ke(o))},{threshold:0}).observe(document.querySelector("#main-end")),window.addEventListener("touchend",oe),window.addEventListener("mouseup",oe),window.addEventListener("mouseleave",oe),document.body.addEventListener("touchmove",Ne),document.body.addEventListener("mousemove",Ne),de(),me(),q()});
